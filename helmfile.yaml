repositories:
- name: plex
  url: https://raw.githubusercontent.com/plexinc/pms-docker/gh-pages
- name: bitnami 
  url:  https://charts.bitnami.com/bitnami


- name: plex
  namespace: plex
  chart: plex/plex-media-server
  values: 
    - ingress:
        enabled: true
        ingressClassName: nginx
        url: "plex.almothana.xyz"
        annotations:
          cert-manager.io/cluster-issuer: letsencrypt-production
      pms:
        configStorage: 10Gi
        resources:
          limits:
            cpu: 500m
            memory: 512Mi
          requests:
            cpu: 100m
            memory: 128Mi
      extraEnv:
        TZ: "Asia/Riyadh"

- name: external-dns
  namespace: external-dns
  chart: bitnami/external-dns
  version: "8.6.1"
  values: 
    - provider: pihole
      pihole:
        server: "http://pihole-web.pihole.svc.cluster.local"
        secretName: "external-dns"
      resources:
        requests:
          cpu: 100m
          memory: 128Mi
          ephemeral-storage: 50Mi
        limits:
          cpu: 150m
          memory: 192Mi
          ephemeral-storage: 2Gi
